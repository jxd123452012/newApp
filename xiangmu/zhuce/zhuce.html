<!DOCTYPE HTML>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>注册</title>

		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css">
		<link rel="stylesheet" href="css/style.css">
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet" type="text/css">
		<!--[if IE]>
		<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->

	</head>
<style type="text/css">
	.tishi{
		display: none;
	}
	.success{
		color: green;
	}
	.error{
		color: red;
	}
</style>
	<body>
	<a href="../denglu.html">返回登录</a>
		<div class="htmleaf-container">

			<svg id="svg-source" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%" xmlns:xlink="http://www.w3.org/1999/xlink">
				<g id="close-icon">
					<path d="M0.014,1.778L1.79,0.001l30.196,30.221l-1.778,1.777L0.014,1.778z" />
					<path d="M1.79,31.999l-1.776-1.777L30.208,0.001l1.778,1.777L1.79,31.999z" />
				</g>
			</svg>

			<div id="js-show-modal" class="launch-button">打开注册窗口
				<div class="launch-button__glare"></div>
			</div>
			<div id="js-modal-overlay" class="modal-overlay"></div>
			<div id="js-modal-holder" class="modal-holder">
				<div id="js-hint1" class="hint hint--1">在这里<br>您可以输入您的<br>账号和密码~</div>
				<div id="js-hint2" class="hint hint--2">点击这里<br>可以关闭~</div>
				<div id="js-effect" style="outline1: 1px solid red" class="effect">
					<div class="effect__burst">
						<svg viewBox="0 0 300 300" width="300" height="300" id="js-burst">
							<g id="Group" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">
								<path d="M119.843557,132.665423 L142.438936,241.234321" stroke="#FC46AD" stroke-width="2" transform="translate(131.141247, 186.949872) rotate(9.000000) translate(-131.141247, -186.949872) "></path>
								<path d="M120.923275,136.327807 L194.055085,223.544529" stroke="#D0D202" stroke-width="2" transform="translate(157.489180, 179.936168) rotate(9.000000) translate(-157.489180, -179.936168) "></path>
								<path d="M110.892215,7.63766131 L143.724586,126.274355" stroke="#FFE217" stroke-width="2" transform="translate(127.308401, 66.956008) rotate(-165.000000) translate(-127.308401, -66.956008) "></path>
								<path d="M198.35904,105.458064 L161.773069,223.598866" stroke="#B8E986" stroke-width="3" transform="translate(180.066054, 164.528465) rotate(-74.000000) translate(-180.066054, -164.528465) "> </path>
								<path d="M146.454121,53.5458334 L227.175148,153.69563" stroke="#D0D202" stroke-width="2" transform="translate(186.814634, 103.620732) rotate(-74.000000) translate(-186.814634, -103.620732) "> </path>
								<path d="M94.4127006,27.0036828 L46.0682754,156.269505" stroke="#51CAD7" stroke-width="3" transform="translate(70.240488, 91.636594) rotate(-257.000000) translate(-70.240488, -91.636594) "> </path>
								<path d="M29.3969741,113.63349 L113.205038,207.338224" stroke="#FC3F6B" stroke-width="2" transform="translate(71.301006, 160.485857) rotate(-257.000000) translate(-71.301006, -160.485857) "> </path>
								<path d="M125.792,38.3112087 L198.92381,125.527931" stroke="#D0D202" stroke-width="2" transform="translate(162.357905, 81.919570) rotate(-104.000000) translate(-162.357905, -81.919570) "> </path>
								<path d="M43.4006609,130.173225 L130.540432,224.973356" stroke="#FC46AD" stroke-width="2" transform="translate(86.970546, 177.573291) rotate(-278.000000) translate(-86.970546, -177.573291) "> </path>
								<path d="M157.646537,8.08731537 L121.060566,126.228117" stroke="#B8E986" stroke-width="3" transform="translate(139.353552, 67.157716) rotate(-187.000000) translate(-139.353552, -67.157716) "> </path>
								<path d="M139.340711,132.100895 L90.9962855,261.366717" stroke="#51CAD7" stroke-width="3" transform="translate(115.168498, 196.733806) rotate(-10.000000) translate(-115.168498, -196.733806) "> </path>
								<path d="M136.22617,122.003677 L220.034234,215.708411" stroke="#FC3F6B" stroke-width="2" transform="translate(178.130202, 168.856044) rotate(-10.000000) translate(-178.130202, -168.856044) "></path>
							</g>
						</svg>
					</div>
					<div class="effect__circle">
						<svg viewBox="0 0 100 100" width="100" height="100">
							<circle cx="50" cy="50" fill="none" id="js-circle"></circle>
						</svg>
					</div>
					<div class="effect__line effect__line--1">
						<svg viewBox="0 0 4 900" width="4" height="900">
							<defs>
								<g id="proto-line" class="js-line">
									<line x1="2" x2="2" y1="0" y2="900" stroke="red" stroke-dasharray="900 1800" stroke-dashoffset="900"></line>
									<line x1="2" x2="2" y1="0" y2="900" stroke="red" stroke-dasharray="900 1800" stroke-dashoffset="900"></line>
									<line x1="2" x2="2" y1="0" y2="900" stroke="red" stroke-dasharray="900 1800" stroke-dashoffset="900"></line>
								</g>
							</defs>
							<use xlink:href="#proto-line" width="4" height="900"></use>
						</svg>
					</div>
					<div class="effect__line effect__line--2">
						<svg viewBox="0 0 4 900" width="4" height="900">
							<use xlink:href="#proto-line" width="4" height="900"></use>
						</svg>
					</div>
					<div class="effect__line effect__line--3">
						<svg viewBox="0 0 4 900" width="4" height="900">
							<use xlink:href="#proto-line" width="4" height="900"></use>
						</svg>
					</div>
					<div class="effect__line effect__line--4">
						<svg viewBox="0 0 4 900" width="4" height="900">
							<use xlink:href="#proto-line" width="4" height="900"></use>
						</svg>
					</div>
				</div>
				<form id="js-modal" class="modal" action="../index.php?class=User&action=register" method="post">
					<div id="js-close-button" class="modal__close">
						<div id="" title="" class="icon ">
							<svg viewBox="0 0 32 32">
								<use xlink:href="#close-icon"></use>
							</svg>
						</div>
					</div>
					<div class="modal__header">注册</div>
					<div class="modal__description">请在下面输入您要注册的账号</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="username" type="text" class="input-with-label__input" name="username">
							<label for="name" class="input-with-label__label">用户名
                <div class="input-with-label__label__corner"></div>
              				</label>
						</div>
						<span id="users" class="tishi success zq">正确</span>
						<span id="usere" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="password" type="password" class="input-with-label__input" name="password">
							<label for="password" class="input-with-label__label">密码
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="pwds" class="tishi success zq">正确</span>
						<span id="pwde" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="password1" type="password" class="input-with-label__input">
							<label for="password" class="input-with-label__label">重复密码
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="pwd1s" class="tishi success zq">正确</span>
						<span id="pwd1e" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="relname" type="text" class="input-with-label__input" name="relname">
							<label for="password" class="input-with-label__label">真实姓名
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="names" class="tishi success zq">正确</span>
						<span id="namee" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="dizhi" type="text" class="input-with-label__input" name="dizhi">
							<label for="password" class="input-with-label__label">住址
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="dizhis" class="tishi success zq">正确</span>
						<span id="dizhie" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="email" type="text" class="input-with-label__input" name="email">
							<label for="password" class="input-with-label__label">邮箱
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="emails" class="tishi success zq">正确</span>
						<span id="emaile" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="phone" type="text" class="input-with-label__input" name="phone">
							<label for="password" class="input-with-label__label">电话号码
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="phones" class="tishi success zq">正确</span>
						<span id="phonee" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section">
						<div class="input-with-label">
							<input id="kahao" type="text" class="input-with-label__input" name="kahao">
							<label for="password" class="input-with-label__label">信用卡
                <div class="input-with-label__label__corner"></div>
              </label>
						</div>
						<span id="kas" class="tishi success zq">正确</span>
						<span id="kae" class="tishi error cw">错误</span>
					</div>
					<div class="modal__section grid grid--sliced grid--gutter-x2">
						<div>
							<button type="submit" id="anniu" disabled="disabled">注册</button>
						</div>
					</div>
				</form>
				<svg style="display:none">
					<image width="480" height="450" xlink:href="" id="proto-image" class="js-proto-image"></image>
				</svg>
				<div id="js-break-parts" class="break-parts">
					<div id="js-svg-overlay" class="svg-overlay">
						<svg viewBox="0 0 480 450" id="js-svg1">
							<clipPath id="clip1">
								<path d="M0,450.575574 L0,0 L424.903452,0 L452.375,28.5599486 L20.5087638,460.426185 L0,450.575574 Z"></path>
							</clipPath>
							<use xlink:href="#proto-image" clip-path="url(#clip1)" id="js-image1"></use>
						</svg>
					</div>
					<div class="svg-overlay svg-overlay--2">
						<svg viewBox="0 0 480 450" id="js-svg2">
							<clipPath id="clip2">
								<path d="M452.214614,28.6494713 L424.309513,0 L482.040672,0 L452.214614,28.6494713 Z"></path>
							</clipPath>
							<use xlink:href="#proto-image" clip-path="url(#clip2)" id="js-image2"></use>
						</svg>
					</div>
					<div class="svg-overlay svg-overlay--3">
						<svg viewBox="0 0 480 450" id="js-svg3">
							<clipPath id="clip3">
								<path d="M452.320312,28.526424 L482,58 L482,0.066291362 L452.320312,28.526424 Z"></path>
							</clipPath>
							<use xlink:href="#proto-image" clip-path="url(#clip3)" id="js-image3"></use>
						</svg>
					</div>
					<div class="svg-overlay">
						<svg viewBox="0 0 480 450" id="js-svg4">
							<clipPath id="clip4">
								<path d="M452.270844,28.4954427 L482,57.8942871 L482,451 L29.2740886,450.99999 L452.270844,28.4954427 Z"></path>
							</clipPath>
							<use xlink:href="#proto-image" clip-path="url(#clip4)" id="js-image4"></use>
						</svg>
					</div>
				</div>
			</div>
		</div>
<script type="text/javascript" src="js/jquery-1.11.0.js"></script>
		<script type="text/javascript">
			$(function() {
					$("#add").on("click", function() {
					var username = $("#username").val();
					var psd = $("#password").val();
					var name = $("#relname").val();
					var dizhi = $("#dizhi").val();
					var email = $("#email").val();
					var phone = $("#phone").val();
					var kahao = $("#kahao").val();
					var time = $("#time").val();
					var t = Math.random();
					$.ajax({
						type: "post",
						data: {
							"username": username,
							"password": psd,
							"name": name,
							"dizhi": dizhi,
							"email": email,
							"phone": phone,
							"kahao": kahao,
							"time": time
						},
						url: "http://localhost/class1/JSON/add.php?t="+t+"",
						success: function(res) {
							if(res) {
								location.href="../denglu.php";
								alert("注册成功");
							} else {
								alert("失败");
							}
						}
					})
				})
			})

				/*注册验证*/
				var username = document.getElementById("username");
				var password1 = document.getElementById("password");
				var password2 = document.getElementById("password1");
				var relname = document.getElementById("relname");
				var address = document.getElementById("dizhi");
				var email = document.getElementById("email");
				var kahao = document.getElementById("kahao");
				var phone = document.getElementById("phone");
				/*用户名验证*/
				username.onblur = function(){
						var s = document.getElementById("users");
						var e = document.getElementById("usere");
						var reg = /^[a-z]{1}[a-zA-Z0-9_]{3,11}$/;
						this.value;
						s.style.display = "none";
						e.style.display = "none";
						if(reg.test(this.value)) {
//							s.style.display = "inline";
						} else {
							e.style.display = "inline";
						}
				}
				/*密码验证*/
				password1.onblur = function(evt) {
					var s = document.getElementById("pwds");
					var e = document.getElementById("pwde");
					var reg = evt.target.value;
					var a = /[a-zA-Z]+/;
					var b = /[0-9]+/;
					s.style.display = "none";
					e.style.display = "none";
					if(a.test(reg) && b.test(reg) && reg.length > 2 && reg.length < 17) {
//						s.style.display = "inline";
					} else {
						e.style.display = "inline";
					}
				}
				/*重复密码验证*/
				password2.onblur = function() {
					var s = document.getElementById("pwd1s");
					var e = document.getElementById("pwd1e");
					s.style.display = "none";
					e.style.display = "none";
					if(password1.value == password2.value) {
//						s.style.display = "inline";
					} else {
						e.style.display = "inline";
					}
				}
				/*姓名验证*/
				relname.onblur = function() {
					var s = document.getElementById("names");
					var e = document.getElementById("namee");
					var reg = /[\u4e00-\u9fa5]/;
					s.style.display = "none";
					e.style.display = "none";
					this.value;
					if (reg.test(this.value)) {
//						s.style.display = "inline";
					} else{
						e.style.display = "inline";
					}
				}
				/*住址验证*/
				address.onblur = function() {
					var s = document.getElementById("dizhis");
					var e = document.getElementById("dizhie");
					s.style.display = "none";
					e.style.display = "none";
					var reg = /[\u4e00-\u9fa5]/;
					this.value;
					if (reg.test(this.value)) {
//						s.style.display = "inline";
					} else{
						e.style.display = "inline";
					}
				}
				/*邮箱验证*/
				email.onblur = function() {
					var s = document.getElementById("emails");
					var e = document.getElementById("emaile");
					this.value;
					s.style.display = "none";
					e.style.display = "none";
					var reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
					if(reg.test(this.value)) {
//						s.style.display = "inline";
					} else {
						e.style.display = "inline";
					}
				}
				/*电话验证*/
				phone.onblur = function() {
					var s = document.getElementById("phones");
					var e = document.getElementById("phonee");
					this.value;
					var reg = /^1[0-9]{1}[0-9]{9}$/;
					s.style.display = "none";
					e.style.display = "none";
					if(reg.test(this.value)) {
//						s.style.display = "inline";
					} else {
						e.style.display = "inline";
					}
				}
				/*信用卡验证*/
				kahao.onblur = function() {
					var s = document.getElementById("kas");
					var e = document.getElementById("kae");
					this.value;
					var reg = /^[0-9]{16}$/;
					s.style.display = "none";
					e.style.display = "none";
					if(reg.test(this.value)||this.value!=="") {
//						s.style.display = "inline";
					} else {
						e.style.display = "inline";
					}
				}







		</script>
		<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src='js/howler.min.js'></script>
		<script type="text/javascript" src='js/tween.min_1.js'></script>
		<script type="text/javascript" src='js/html2canvas.js'></script>
		<script type="text/javascript" src="js/index1.js"></script>
	<script type="text/javascript">
	   $(function(){
		   var a=1;
			$("input").blur(function(){
				a=0;
				for(i=0;i<$(".error").length;i++){
					if($(".error").eq(i).css("display")=="inline"){
							a++;
					}
				}
				console.log(a);
				if(a>0){
					$("#anniu").attr("disabled",true);
					}else{
					$("#anniu").removeAttr("disabled");
						}
			})
		});
	</script>
	</body>

</html>
